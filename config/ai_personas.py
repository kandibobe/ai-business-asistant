"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AI —Ä–æ–ª–µ–π –∏ —Å—Ç–∏–ª–µ–π –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.
"""

# –†–æ–ª–∏ AI —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏
AI_ROLES = {
    'analyst': {
        'name': 'üìä –ë–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫',
        'icon': 'üìä',
        'description': '–§–æ–∫—É—Å –Ω–∞ —Ü–∏—Ñ—Ä–∞—Ö, –º–µ—Ç—Ä–∏–∫–∞—Ö –∏ –¥–∞–Ω–Ω—ã—Ö',
        'prompt_prefix': """–¢—ã –æ–ø—ã—Ç–Ω—ã–π –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫. –¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–∞–∫—Ç–∞—Ö –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –°–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∏ –º–µ—Ç—Ä–∏–∫–∏ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å —á–µ—Ç–∫–∏–º–∏ –≤—ã–≤–æ–¥–∞–º–∏
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–µ
""",
        'example': '–ê–Ω–∞–ª–∏–∑: –í—ã—Ä—É—á–∫–∞ –≤—ã—Ä–æ—Å–ª–∞ –Ω–∞ 15% (—Å 100–ú –¥–æ 115–ú —Ä—É–±–ª–µ–π)'
    },

    'consultant': {
        'name': 'üíº –ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
        'icon': 'üíº',
        'description': '–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ —Å–æ–≤–µ—Ç—ã',
        'prompt_prefix': """–¢—ã –æ–ø—ã—Ç–Ω—ã–π –±–∏–∑–Ω–µ—Å-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç. –¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã:
- –î–∞–≤–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –£–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ä–∏—Å–∫–∏
- –ü—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é
""",
        'example': '–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∏–∑–¥–µ—Ä–∂–µ–∫'
    },

    'teacher': {
        'name': 'üë®‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å',
        'icon': 'üë®‚Äçüè´',
        'description': '–û–±—ä—è—Å–Ω—è–µ—Ç –ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ',
        'prompt_prefix': """–¢—ã –æ–ø—ã—Ç–Ω—ã–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å. –¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã:
- –ë—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏
- –û–±—ä—è—Å–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º —è–∑—ã–∫–æ–º
- –ü—Ä–∏–≤–æ–¥–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏–∏ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
""",
        'example': '–ü—Ä–µ–¥—Å—Ç–∞–≤—å ROI –∫–∞–∫ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏ –∫ –∑–∞—Ç—Ä–∞—Ç–∞–º - –∫–∞–∫ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –≤–∫–ª–∞–¥–∞ –≤ –±–∞–Ω–∫–µ'
    },

    'researcher': {
        'name': 'üî¨ –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å',
        'icon': 'üî¨',
        'description': '–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å –¥–µ—Ç–∞–ª—è–º–∏',
        'prompt_prefix': """–¢—ã –Ω–∞—É—á–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å. –¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã:
- –ë—ã—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∏ –≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏
- –†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –≤–æ–ø—Ä–æ—Å–∞
- –°—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —á–∞—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –ë—ã—Ç—å –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–º–∏ –∏ –≤–∑–≤–µ—à–µ–Ω–Ω—ã–º–∏
""",
        'example': '–°–æ–≥–ª–∞—Å–Ω–æ —Ä–∞–∑–¥–µ–ª—É 3.2, –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –º–µ–∂–¥—É —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏ A –∏ B'
    },

    'creative': {
        'name': 'üé® –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫',
        'icon': 'üé®',
        'description': '–¢–≤–æ—Ä—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ç–≤–µ—Ç–∞–º',
        'prompt_prefix': """–¢—ã –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫. –¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã:
- –ë—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏ –∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–∞—Ñ–æ—Ä—ã –∏ –æ–±—Ä–∞–∑—ã
- –ü–æ–¥–∞–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ
- –í–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –Ω–∞ –Ω–æ–≤—ã–µ –∏–¥–µ–∏
""",
        'example': '–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç –∏—Å—Ç–æ—Ä–∏—é —Ä–æ—Å—Ç–∞ - –∫–∞–∫ —Å–∞–∂–µ–Ω–µ—Ü –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –¥–µ—Ä–µ–≤–æ'
    },

    'assistant': {
        'name': 'ü§ñ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫',
        'icon': 'ü§ñ',
        'description': '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)',
        'prompt_prefix': """–¢—ã –ø–æ–ª–µ–∑–Ω—ã–π AI-–ø–æ–º–æ—â–Ω–∏–∫. –¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã:
- –ë—ã—Ç—å —á–µ—Ç–∫–∏–º–∏ –∏ –ø–æ —Å—É—â–µ—Å—Ç–≤—É
- –û—Ç–≤–µ—á–∞—Ç—å —Ç–æ—á–Ω–æ –Ω–∞ –∑–∞–¥–∞–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å
- –ë—ã—Ç—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º–∏ –Ω–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ –ª–µ–≥–∫–æ —á–∏—Ç–∞–µ–º—ã–º–∏
""",
        'example': '–í –¥–æ–∫—É–º–µ–Ω—Ç–µ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∑–∞–≤–µ—Ä—à–µ–Ω –Ω–∞ 75%'
    },

    'lawyer': {
        'name': '‚öñÔ∏è –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
        'icon': '‚öñÔ∏è',
        'description': '–§–æ–∫—É—Å –Ω–∞ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –∞—Å–ø–µ–∫—Ç–∞—Ö',
        'prompt_prefix': """–¢—ã —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç. –¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã:
- –ë—ã—Ç—å —Ç–æ—á–Ω—ã–º–∏ –≤ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞—Ö
- –£–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –Ω—é–∞–Ω—Å—ã
- –í—ã–¥–µ–ª—è—Ç—å –≤–∞–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏ –ø—É–Ω–∫—Ç—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é
""",
        'example': '–°–æ–≥–ª–∞—Å–Ω–æ –ø. 4.1 –¥–æ–≥–æ–≤–æ—Ä–∞, —Å—Ç–æ—Ä–æ–Ω–∞ –æ–±—è–∑—É–µ—Ç—Å—è...'
    },
}

# –°—Ç–∏–ª–∏ –æ—Ç–≤–µ—Ç–æ–≤
RESPONSE_STYLES = {
    'brief': {
        'name': '‚ö° –ö—Ä–∞—Ç–∫–æ',
        'icon': '‚ö°',
        'description': '–¢–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã, 2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è',
        'instruction': '–û—Ç–≤–µ—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫—Ä–∞—Ç–∫–æ, —Ç–æ–ª—å–∫–æ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ. –î–æ 3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.',
        'max_length': 'short'
    },

    'standard': {
        'name': 'üìù –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ',
        'icon': 'üìù',
        'description': '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)',
        'instruction': '–î–∞–π –ø–æ–ª–Ω—ã–π, –Ω–æ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π –æ—Ç–≤–µ—Ç. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.',
        'max_length': 'medium'
    },

    'detailed': {
        'name': 'üìö –ü–æ–¥—Ä–æ–±–Ω–æ',
        'icon': 'üìö',
        'description': '–î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Å–æ –≤—Å–µ–º–∏ –Ω—é–∞–Ω—Å–∞–º–∏',
        'instruction': '–î–∞–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç–≤–µ—Ç —Å–æ –≤—Å–µ–º–∏ –¥–µ—Ç–∞–ª—è–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏.',
        'max_length': 'long'
    },

    'bullets': {
        'name': 'üìã –°–ø–∏—Å–∫–æ–º',
        'icon': 'üìã',
        'description': '–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—É–Ω–∫—Ç–æ–≤',
        'instruction': '–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π –æ—Ç–≤–µ—Ç –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ –ø—É–Ω–∫—Ç–æ–≤. –ö–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç - –æ—Ç–¥–µ–ª—å–Ω–∞—è –º—ã—Å–ª—å.',
        'max_length': 'medium'
    },

    'pros_cons': {
        'name': '‚öñÔ∏è –ü–ª—é—Å—ã/–ú–∏–Ω—É—Å—ã',
        'icon': '‚öñÔ∏è',
        'description': '–ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤',
        'instruction': '–†–∞–∑–¥–µ–ª–∏ –æ—Ç–≤–µ—Ç –Ω–∞ –ø–ª—é—Å—ã (‚úÖ) –∏ –º–∏–Ω—É—Å—ã (‚ùå). –î–∞–π —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑.',
        'max_length': 'medium'
    },

    'eli5': {
        'name': 'üë∂ –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏',
        'icon': 'üë∂',
        'description': '–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–∞–∫ –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞',
        'instruction': '–û–±—ä—è—Å–Ω–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ, –∫–∞–∫ –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞ 5 –ª–µ—Ç. –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞ –∏ –∞–Ω–∞–ª–æ–≥–∏–∏.',
        'max_length': 'medium'
    },

    'professional': {
        'name': 'üíé –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ',
        'icon': 'üíé',
        'description': '–î–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤',
        'prompt_instruction': '–ò—Å–ø–æ–ª—å–∑—É–π —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π –¥–µ–ª–æ–≤–æ–π —è–∑—ã–∫. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤ –æ—Ç—á–µ—Ç—ã –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏.',
        'max_length': 'medium'
    },
}

# –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã AI (—Å–∫–æ—Ä–æ—Å—Ç—å vs –∫–∞—á–µ—Å—Ç–≤–æ)
AI_MODES = {
    'fast': {
        'name': '‚ö° –ë—ã—Å—Ç—Ä—ã–π',
        'icon': '‚ö°',
        'description': '–ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã, –±–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑',
        'temperature': 0.3,
        'max_tokens': 500,
        'speed': '–û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ (2-3 —Å–µ–∫)'
    },

    'standard': {
        'name': '‚≠ê –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π',
        'icon': '‚≠ê',
        'description': '–ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞',
        'temperature': 0.7,
        'max_tokens': 1000,
        'speed': '–°—Ä–µ–¥–Ω–µ (4-6 —Å–µ–∫)'
    },

    'advanced': {
        'name': 'üíé –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π',
        'icon': 'üíé',
        'description': '–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑, –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã',
        'temperature': 0.9,
        'max_tokens': 2000,
        'speed': '–ú–µ–¥–ª–µ–Ω–Ω–µ–µ (8-12 —Å–µ–∫)'
    },
}

# –Ø–∑—ã–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
LANGUAGES = {
    'ru': {
        'name': '–†—É—Å—Å–∫–∏–π',
        'flag': 'üá∑üá∫',
        'code': 'ru',
        'greeting': '–ü—Ä–∏–≤–µ—Ç'
    },
    'en': {
        'name': 'English',
        'flag': 'üá¨üáß',
        'code': 'en',
        'greeting': 'Hello'
    },
    'es': {
        'name': 'Espa√±ol',
        'flag': 'üá™üá∏',
        'code': 'es',
        'greeting': 'Hola'
    },
    'de': {
        'name': 'Deutsch',
        'flag': 'üá©üá™',
        'code': 'de',
        'greeting': 'Hallo'
    },
    'fr': {
        'name': 'Fran√ßais',
        'flag': 'üá´üá∑',
        'code': 'fr',
        'greeting': 'Bonjour'
    },
    'zh': {
        'name': '‰∏≠Êñá',
        'flag': 'üá®üá≥',
        'code': 'zh',
        'greeting': '‰Ω†Â•Ω'
    },
}

def build_ai_prompt(role: str, style: str, mode: str, question: str, context: str = None) -> str:
    """
    –°—Ç—Ä–æ–∏—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

    Args:
        role: –†–æ–ª—å AI (analyst, consultant, teacher –∏ —Ç.–¥.)
        style: –°—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–∞ (brief, detailed, bullets –∏ —Ç.–¥.)
        mode: –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (fast, standard, advanced)
        question: –í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        context: –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

    Returns:
        –ü–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ AI
    """
    role_config = AI_ROLES.get(role, AI_ROLES['assistant'])
    style_config = RESPONSE_STYLES.get(style, RESPONSE_STYLES['standard'])

    prompt_parts = []

    # –î–æ–±–∞–≤–ª—è–µ–º —Ä–æ–ª—å
    prompt_parts.append(role_config['prompt_prefix'])

    # –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª—å
    prompt_parts.append(f"\n–°–¢–ò–õ–¨ –û–¢–í–ï–¢–ê: {style_config['instruction']}")

    # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –µ—Å–ª–∏ –µ—Å—Ç—å
    if context:
        prompt_parts.append(f"\n–ö–û–ù–¢–ï–ö–°–¢ –ò–ó –î–û–ö–£–ú–ï–ù–¢–ê:\n{context[:3000]}")  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç

    # –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å
    prompt_parts.append(f"\n–í–û–ü–†–û–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø: {question}")

    # –§–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
    prompt_parts.append("\n–û—Ç–≤–µ—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å —Å–æ–≥–ª–∞—Å–Ω–æ —Å–≤–æ–µ–π —Ä–æ–ª–∏ –∏ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —Å—Ç–∏–ª—é.")

    return "\n".join(prompt_parts)

def get_role_display_name(role: str) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å –∫—Ä–∞—Å–∏–≤–æ–µ –∏–º—è —Ä–æ–ª–∏ —Å –∏–∫–æ–Ω–∫–æ–π"""
    config = AI_ROLES.get(role, AI_ROLES['assistant'])
    return f"{config['icon']} {config['name'].split(' ', 1)[1]}"  # –£–±–∏—Ä–∞–µ–º emoji –∏–∑ name

def get_style_display_name(style: str) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å –∫—Ä–∞—Å–∏–≤–æ–µ –∏–º—è —Å—Ç–∏–ª—è —Å –∏–∫–æ–Ω–∫–æ–π"""
    config = RESPONSE_STYLES.get(style, RESPONSE_STYLES['standard'])
    return f"{config['icon']} {config['name'].split(' ', 1)[1]}"

def get_mode_display_name(mode: str) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å –∫—Ä–∞—Å–∏–≤–æ–µ –∏–º—è —Ä–µ–∂–∏–º–∞ —Å –∏–∫–æ–Ω–∫–æ–π"""
    config = AI_MODES.get(mode, AI_MODES['standard'])
    return f"{config['icon']} {config['name'].split(' ', 1)[1]}"
